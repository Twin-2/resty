{"version":3,"sources":["components/header/index.js","components/footer/index.js","components/form/index.js","components/results/index.js","components/history/index.js","app.js","index.js"],"names":["Header","Footer","Form","props","useState","method","setMethod","url","setUrl","body","setBody","handleSetMethod","e","preventDefault","target","id","onSubmit","formData","formSubmit","className","onChange","value","name","type","onClick","placeholder","Results","data","src","headers","History","map","request","idx","showHistory","requestParams","toUpperCase","initialState","history","appReducer","state","action","payload","App","useReducer","dispatch","callApi","a","console","log","superagent","then","setHistory","useEffect","setData","setRequestParams","Main","React","Component","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.b574efb2.chunk.js","sourcesContent":["// import './_header.scss'\n\nfunction Header() {\n    return (\n        <header>\n            <h1>RESTy</h1>\n        </header>\n    )\n}\n\nexport default Header;","// import './footer.scss'\n\nfunction Footer() {\n    return (\n        <footer>&copy; 2018</footer>\n    )\n}\n\nexport default Footer;","// import './_form.scss';\nimport { useState } from 'react';\n\nfunction Form(props) {\n\n    const [method, setMethod] = useState('')\n    const [url, setUrl] = useState('');\n    const [body, setBody] = useState('');\n\n    const handleSetMethod = e => {\n        e.preventDefault();\n        setMethod(e.target.id)\n    }\n\n    const handleSetBody = e => {\n        e.preventDefault();\n        setBody(e.target.value)\n    }\n\n    const handleSetUrl = e => {\n        e.preventDefault();\n        setUrl(e.target.value)\n    }\n\n    const handleFormSubmit = e => {\n        e.preventDefault();\n        const formData = {\n            method: method,\n            url: url,\n            body: body,\n        };\n        props.formSubmit(formData);\n    }\n\n    return (\n        <>\n            <form onSubmit={handleFormSubmit}>\n                <label className=\"searchUrl\">\n                    <span>URL: </span>\n                    <input onChange={handleSetUrl} name='url' type='text' />\n                    <button type=\"submit\">GO!</button>\n                </label>\n                <label className=\"methods\">\n                    <button onClick={handleSetMethod} id=\"get\">GET</button>\n                    <button onClick={handleSetMethod} id=\"post\">POST</button>\n                    <button onClick={handleSetMethod} id=\"put\">PUT</button>\n                    <button onClick={handleSetMethod} id=\"delete\">DELETE</button>\n                </label>\n                <label>\n                    <span>BODY </span>\n                    <input onChange={handleSetBody} placeholder=\"JSON object\" type=\"text\" name=\"body\"></input>\n                </label>\n            </form>\n        </>\n    );\n}\n\nexport default Form;","// import './_results.scss';\nimport ReactJson from 'react-json-view';\n\nfunction Results(props) {\n\n    return (\n        <section className='resultsData'>\n            {props.data ? <ReactJson src={props.data.headers} /> : null}\n            {props.data ? <ReactJson src={props.data.body} /> : null}\n        </section>\n    )\n}\n\nexport default Results;","\n\nfunction History(props) {\n\n    return (\n        <section className=\"historyData\">\n            {props.data.map((request, idx) => {\n                return <div key={idx} onClick={() => props.showHistory(idx)}>\n                    <span>{request.requestParams.method.toUpperCase()}</span>\n                    <span>{request.requestParams.url}</span>\n                </div>\n            })}\n        </section>\n    )\n\n}\n\nexport default History","import React from 'react';\nimport superagent from 'superagent';\n\nimport './app.scss';\nimport { useState, useReducer, useEffect } from 'react'\n// Let's talk about using index.js and some other name in the component folder\n// There's pros and cons for each way of doing this ...\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Form from './components/form';\nimport Results from './components/results';\nimport History from './components/history'\n\n\nconst initialState = {\n    data: {},\n    requestParams: {},\n    history: []\n}\n\nfunction appReducer(state = initialState, action) {\n    let { type, payload } = action;\n    switch (type) {\n        case 'SET_API_DATA':\n            return { ...state, data: payload };\n        case 'SET_REQUEST_PARAMS':\n            return { ...state, requestParams: payload };\n        case 'SET_HISTORY':\n            return { ...state, history: [...state.history, payload] };\n        default:\n            return state\n    }\n}\n\nfunction App() {\n\n    const [state, dispatch] = useReducer(appReducer, initialState);\n\n    const callApi = async () => {\n        console.log(state.requestParams)\n        try {\n            await superagent[state.requestParams.method](state.requestParams.url)\n                .then(data => {\n                    let setData = {\n                        type: 'SET_API_DATA',\n                        payload: data\n                    }\n                    dispatch(setData)\n                    let setHistory = {\n                        type: 'SET_HISTORY',\n                        payload: { requestParams: state.requestParams, data: data }\n                    }\n                    console.log('history', setHistory)\n                    dispatch(setHistory)\n                })\n        } catch (err) {\n            let action = {\n                type: 'SET_API_DATA',\n                payload: 'Bad request'\n            }\n            dispatch(action)\n            console.log(err)\n        }\n    }\n\n    const formSubmit = (formData) => {\n        let action = {\n            type: 'SET_REQUEST_PARAMS',\n            payload: formData\n        }\n        dispatch(action)\n        // callApi()\n    }\n\n    const showHistory = (idx) => {\n        console.log(history)\n        let setData = {\n            type: 'SET_API_DATA',\n            payload: state.history[idx].data\n        }\n        dispatch(setData)\n        let setRequestParams = {\n            type: 'SET_REQUEST_PARAMS',\n            payload: state.history[idx].requestParams\n        }\n        dispatch(setRequestParams)\n    }\n\n    useEffect(async () => {\n        callApi()\n    }, [state.requestParams])\n\n    return (\n        <>\n            <Header />\n            <Form formSubmit={formSubmit} />\n            <div data-testid='method'>Request Method: {state.requestParams.method}</div>\n            <div>URL: {state.requestParams.url}</div>\n            <div className='displayBoxes'>\n                <Results data={state.data} />\n                <History data={state.history} showHistory={showHistory} />\n            </div>\n            <Footer />\n        </>\n    );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app.js';\n\nclass Main extends React.Component {\n    render() {\n        return <App />;\n    }\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Main />, rootElement);"],"sourceRoot":""}