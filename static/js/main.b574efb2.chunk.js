(this["webpackJsonpclass-26-solution"]=this["webpackJsonpclass-26-solution"]||[]).push([[0],{39:function(e,t){},45:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var r=a(15),n=a(16),c=a(21),s=a(19),o=a(1),u=a.n(o),i=a(17),j=a.n(i),l=a(5),d=a.n(l),b=a(11),O=a(3),h=a(20),p=a(2),x=a(18),f=a.n(x),m=(a(45),a(0));var y=function(){return Object(m.jsx)("header",{children:Object(m.jsx)("h1",{children:"RESTy"})})};var v=function(){return Object(m.jsx)("footer",{children:"\xa9 2018"})};var S=function(e){var t=Object(o.useState)(""),a=Object(O.a)(t,2),r=a[0],n=a[1],c=Object(o.useState)(""),s=Object(O.a)(c,2),u=s[0],i=s[1],j=Object(o.useState)(""),l=Object(O.a)(j,2),d=l[0],b=l[1],h=function(e){e.preventDefault(),n(e.target.id)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a={method:r,url:u,body:d};e.formSubmit(a)},children:[Object(m.jsxs)("label",{className:"searchUrl",children:[Object(m.jsx)("span",{children:"URL: "}),Object(m.jsx)("input",{onChange:function(e){e.preventDefault(),i(e.target.value)},name:"url",type:"text"}),Object(m.jsx)("button",{type:"submit",children:"GO!"})]}),Object(m.jsxs)("label",{className:"methods",children:[Object(m.jsx)("button",{onClick:h,id:"get",children:"GET"}),Object(m.jsx)("button",{onClick:h,id:"post",children:"POST"}),Object(m.jsx)("button",{onClick:h,id:"put",children:"PUT"}),Object(m.jsx)("button",{onClick:h,id:"delete",children:"DELETE"})]}),Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{children:"BODY "}),Object(m.jsx)("input",{onChange:function(e){e.preventDefault(),b(e.target.value)},placeholder:"JSON object",type:"text",name:"body"})]})]})})},T=a(12),E=a.n(T);var P=function(e){return Object(m.jsxs)("section",{className:"resultsData",children:[e.data?Object(m.jsx)(E.a,{src:e.data.headers}):null,e.data?Object(m.jsx)(E.a,{src:e.data.body}):null]})};var A=function(e){return Object(m.jsx)("section",{className:"historyData",children:e.data.map((function(t,a){return Object(m.jsxs)("div",{onClick:function(){return e.showHistory(a)},children:[Object(m.jsx)("span",{children:t.requestParams.method.toUpperCase()}),Object(m.jsx)("span",{children:t.requestParams.url})]},a)}))})},_={data:{},requestParams:{},history:[]};function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"SET_API_DATA":return Object(p.a)(Object(p.a)({},e),{},{data:r});case"SET_REQUEST_PARAMS":return Object(p.a)(Object(p.a)({},e),{},{requestParams:r});case"SET_HISTORY":return Object(p.a)(Object(p.a)({},e),{},{history:[].concat(Object(h.a)(e.history),[r])});default:return e}}var q=function(){var e=Object(o.useReducer)(g,_),t=Object(O.a)(e,2),a=t[0],r=t[1],n=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a.requestParams),e.prev=1,e.next=4,f.a[a.requestParams.method](a.requestParams.url).then((function(e){r({type:"SET_API_DATA",payload:e});var t={type:"SET_HISTORY",payload:{requestParams:a.requestParams,data:e}};console.log("history",t),r(t)}));case 4:e.next=11;break;case 6:e.prev=6,e.t0=e.catch(1),r({type:"SET_API_DATA",payload:"Bad request"}),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)(Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)}))),[a.requestParams]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(y,{}),Object(m.jsx)(S,{formSubmit:function(e){r({type:"SET_REQUEST_PARAMS",payload:e})}}),Object(m.jsxs)("div",{"data-testid":"method",children:["Request Method: ",a.requestParams.method]}),Object(m.jsxs)("div",{children:["URL: ",a.requestParams.url]}),Object(m.jsxs)("div",{className:"displayBoxes",children:[Object(m.jsx)(P,{data:a.data}),Object(m.jsx)(A,{data:a.history,showHistory:function(e){console.log(history);var t={type:"SET_API_DATA",payload:a.history[e].data};r(t);var n={type:"SET_REQUEST_PARAMS",payload:a.history[e].requestParams};r(n)}})]}),Object(m.jsx)(v,{})]})},R=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){return Object(m.jsx)(q,{})}}]),a}(u.a.Component),D=document.getElementById("root");j.a.render(Object(m.jsx)(R,{}),D)}},[[47,1,2]]]);
//# sourceMappingURL=main.b574efb2.chunk.js.map